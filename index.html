<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>LeapReplica - Electric Vehicles</title>
  <link rel="stylesheet" href="css/style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <a href="/" class="brand">LeapReplica</a>
      <nav class="site-nav" id="site-nav">
        <a href="index.html">Home</a>
        <a href="products.html">Products</a>
        <a href="about.html">About</a>
        <a href="contact.html">Contact</a>
      </nav>
      <button class="nav-toggle" id="nav-toggle" aria-label="Toggle navigation">â˜°</button>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="container hero-inner">
        <div class="hero-copy">
          <h1>Electric mobility, designed for the future.</h1>
          <p>Explore a new generation of electric vehicles with long range, smart features, and bold design.</p>
          <p><a class="btn" href="products.html">View Models</a></p>
        </div>
        <div class="hero-media">
          <img src="assets/car-hero.jpg" alt="Electric car mockup">
        </div>
      </div>
    </section>

    <section class="highlights">
      <div class="container">
        <h2>Featured Models</h2>
        <div class="cards">
          <article class="card">
            <img src="assets/model-a.jpg" alt="Model A">
            <h3>Model A</h3>
            <p>Long range, fast charging, advanced driver assistance.</p>
            <p><a class="link" href="products.html">Learn more</a></p>
          </article>

          <article class="card">
            <img src="assets/model-b.jpg" alt="Model B">
            <h3>Model B</h3>
            <p>Urban performance with compact design and premium interior.</p>
            <p><a class="link" href="products.html">Learn more</a></p>
          </article>

          <article class="card">
            <img src="assets/model-c.jpg" alt="Model C">
            <h3>Model C</h3>
            <p>An intelligent SUV with family-friendly range and space.</p>
            <p><a class="link" href="products.html">Learn more</a></p>
          </article>
        </div>
      </div>
    </section>

    <section class="about-teaser">
      <div class="container">
        <h2>Our Vision</h2>
        <p>We build electric vehicles that are safe, sustainable and delightful to drive. Technology and design come together to make mobility more efficient and enjoyable.</p>
        <p><a class="btn ghost" href="about.html">Learn about us</a></p>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <div>Â© 2025 LeapReplica</div>
      <nav class="foot-nav">
        <a href="privacy.html">Privacy</a>
        <a href="contact.html">Contact</a>
      </nav>
    </div>
  </footer>

  <script src="js/main.js"></script>
<script type="text/javascript">
  function initEmbeddedMessaging() {
    try {
      embeddedservice_bootstrap.settings.language = 'en-US'; // For example, enter 'en' or 'en-US'
      
      window.addEventListener("onEmbeddedMessagingReady", () => {
        embeddedservice_bootstrap.prechatAPI.setHiddenPrechatFields({
          Country: "United Kingdom",
          Language: "en_US'
          CountryCode: "uk",
        });
      });
      embeddedservice_bootstrap.init(
        "00DMA000003XnGM",
        "LPM_Leapmotor",
        "https://leapmotor--dev01.sandbox.my.site.com/ESWLPMLeapmotor1760706603231",
        {
          scrt2URL: "https://leapmotor--dev01.sandbox.my.salesforce-scrt.com",
        }
      );
    } catch (err) {
      console.error("Error loading Embedded Messaging: ", err);
    }
  }
  (function () {
    console.log("Test custom chat button with Christmas carousel");
    // Get country code from URL path
    function getCountryFromURL() {
      var path = window.location.pathname;
      var pathParts = path.split('/').filter(function(part) { return part.length > 0; });
      
      // Check if there's a country code in the path (e.g., /it/, /es/, /fr/)
      if (pathParts.length > 0) {
        var countryCode = pathParts[0].toLowerCase();
        return countryCode;
      }
      return 'en'; // default to English
    }
    // Get localized message based on country
    function getLocalizedMessage(countryCode) {
      var messages = {
        'it': 'Parla con Agentforce! ðŸŽ„',      // Italian
        'es': 'Habla con Agentforce! ðŸŽ„',      // Spanish
        'fr': 'Parlez avec Agentforce! ðŸŽ„',    // French
        'de': 'Sprechen Sie mit Agentforce! ðŸŽ„', // German
        'uk': 'Talk with Agentforce! ðŸŽ„',      // UK English
        'us': 'Talk with Agentforce! ðŸŽ„',      // US English
        'en': 'Talk with Agentforce! ðŸŽ„'       // Default English
      };
      return messages[countryCode] || messages['en'];
    }
    var detectedCountry = getCountryFromURL();
    var buttonMessage = getLocalizedMessage(detectedCountry);
    console.log('Detected country:', detectedCountry, '| Message:', buttonMessage);
    function hideStandardButton(es) {
      if (es && es.utilAPI && typeof es.utilAPI.hideChatButton === "function") {
        try {
          es.utilAPI.hideChatButton();
          console.log("hideChatButton() called");
        } catch (e) {
          console.warn("Error calling hideChatButton()", e);
        }
      }
    }
    function showCustomCTA(es) {
      if (!es || !es.utilAPI) {
        console.warn("utilAPI not available");
        return;
      }
      var existing = document.getElementById("leap-chat-cta");
      if (existing) {
        existing.style.display = "inline-flex";
        hideStandardButton(es);
        console.log("Custom CTA shown again");
        return;
      }
      // Create button container
      var btn = document.createElement("button");
      btn.id = "leap-chat-cta";
      btn.style.position = "fixed";
      btn.style.right = "20px";  // Shifted left from 32px
      btn.style.bottom = "24px";
      btn.style.zIndex = "99999";
      // Optimized SIZE - Slightly smaller but still prominent
      btn.style.padding = "28px 48px";  // Reduced from 32px 56px
      btn.style.fontSize = "24px";      // Reduced from 26px
      btn.style.fontWeight = "700";
      btn.style.borderRadius = "999px";
      btn.style.border = "none";
      btn.style.cursor = "pointer";
      btn.style.boxShadow =
        "0 12px 32px rgba(0,0,0,0.5), 0 0 60px rgba(255, 215, 0, 0.4)";
      btn.style.background =
        "linear-gradient(135deg, #c41e3a 0%, #165b33 50%, #c41e3a 100%)";
      btn.style.backgroundSize = "200% 200%";
      btn.style.color = "#ffffff";
      btn.style.display = "inline-flex";
      btn.style.alignItems = "center";
      btn.style.justifyContent = "center";
      btn.style.gap = "18px";           // Reduced from 20px
      btn.style.transition = "all 0.3s ease";
      btn.style.overflow = "visible";
      btn.style.fontFamily = "'Arial', sans-serif";
      btn.style.textShadow = "3px 3px 6px rgba(0,0,0,0.4)";
      btn.style.minWidth = "350px";     // Reduced from 380px
      btn.style.minHeight = "85px";     // Reduced from 90px
      // Christmas icons carousel
      var iconContainer = document.createElement("div");
      iconContainer.style.position = "relative";
      iconContainer.style.width = "44px";   // Slightly reduced from 48px
      iconContainer.style.height = "44px";  // Slightly reduced from 48px
      iconContainer.style.display = "flex";
      iconContainer.style.alignItems = "center";
      iconContainer.style.justifyContent = "center";
      var christmasIcons = ["ðŸŽ„", "ðŸŽ…", "â›„", "ðŸŽ", "â„ï¸", "ðŸ””", "â­", "ðŸ¦Œ"];
      var currentIconIndex = 0;
      var iconSpan = document.createElement("span");
      iconSpan.style.fontSize = "44px";     // Slightly reduced from 48px
      iconSpan.style.display = "block";
      iconSpan.style.animation = "iconFadeIn 0.5s ease";
      iconSpan.textContent = christmasIcons[0];
      iconContainer.appendChild(iconSpan);
      // Text content with localized message
      var textSpan = document.createElement("span");
      textSpan.textContent = buttonMessage;  // Use localized message
      textSpan.style.letterSpacing = "0.5px";
      btn.appendChild(iconContainer);
      btn.appendChild(textSpan);
      // Add CSS animations
      var style = document.createElement("style");
      style.textContent = `
      @keyframes iconFadeIn {
        0% { opacity: 0; transform: scale(0.5) rotate(-180deg); }
        100% { opacity: 1; transform: scale(1) rotate(0deg); }
      }
      
      @keyframes iconFadeOut {
        0% { opacity: 1; transform: scale(1) rotate(0deg); }
        100% { opacity: 0; transform: scale(0.5) rotate(180deg); }
      }
      @keyframes snowfall {
        0% { transform: translateY(-10px) translateX(0); opacity: 0; }
        50% { opacity: 1; }
        100% { transform: translateY(10px) translateX(5px); opacity: 0; }
      }
      @keyframes gradientShift {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
      }
      @keyframes pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.05); }
      }
      #leap-chat-cta {
        animation: gradientShift 3s ease infinite, pulse 2s ease-in-out infinite;
      }
      #leap-chat-cta:hover {
        transform: scale(1.08) !important;
        box-shadow: 0 12px 32px rgba(0,0,0,0.5), 0 0 60px rgba(255, 215, 0, 0.5) !important;
      }
    `;
      document.head.appendChild(style);
      // Icon carousel rotation
      setInterval(function () {
        iconSpan.style.animation = "iconFadeOut 0.5s ease";
        setTimeout(function () {
          currentIconIndex = (currentIconIndex + 1) % christmasIcons.length;
          iconSpan.textContent = christmasIcons[currentIconIndex];
          iconSpan.style.animation = "iconFadeIn 0.5s ease";
        }, 500);
      }, 3000);
      // Snowflakes effect
      function createSnowflake() {
        var snowflake = document.createElement("div");
        snowflake.textContent = "â„";
        snowflake.style.position = "absolute";
        snowflake.style.fontSize = "20px";
        snowflake.style.color = "#ffffff";
        snowflake.style.pointerEvents = "none";
        snowflake.style.animation = "snowfall 2s linear";
        snowflake.style.left = Math.random() * 100 + "%";
        snowflake.style.top = "-10px";
        snowflake.style.opacity = "0";
        btn.appendChild(snowflake);
        setTimeout(function () {
          if (snowflake.parentNode) {
            snowflake.parentNode.removeChild(snowflake);
          }
        }, 2000);
      }
      // Create snowflakes periodically
      setInterval(createSnowflake, 800);
      btn.addEventListener("mouseenter", function () {
        btn.style.transform = "scale(1.08)";
      });
      btn.addEventListener("mouseleave", function () {
        btn.style.transform = "scale(1)";
      });
      btn.addEventListener("click", function () {
        if (typeof es.utilAPI.launchChat === "function") {
          console.log("launchChat() from CTA");
          var r = es.utilAPI.launchChat();
          if (r && typeof r.then === "function") {
            r.then(function () {
              console.log("Chat launched (Promise resolved)");
            }).catch(function (err) {
              console.error("Error launching chat", err);
            });
          }
        } else {
          console.warn("launchChat() not available");
        }
      });
      document.body.appendChild(btn);
      hideStandardButton(es);
      console.log("Custom CTA created with Christmas carousel");
    }
    function hideCustomCTA() {
      var btn = document.getElementById("leap-chat-cta");
      if (btn) {
        btn.style.display = "none";
        console.log("Custom CTA hidden");
      }
    }
    window.addEventListener("onEmbeddedMessagingButtonCreated", function () {
      console.log("onEmbeddedMessagingButtonCreated fired");
      var es = window.embeddedservice_bootstrap;
      if (es) {
        showCustomCTA(es);
      }
    });
    window.addEventListener("onEmbeddedMessagingWindowMaximized", function () {
      console.log("onEmbeddedMessagingWindowMaximized fired");
      hideCustomCTA();
    });
    window.addEventListener("onEmbeddedMessagingWindowMinimized", function () {
      console.log("onEmbeddedMessagingWindowMinimized fired");
      var es = window.embeddedservice_bootstrap;
      if (es) {
        hideStandardButton(es);
        showCustomCTA(es);
      }
    });
    function waitForES(maxAttempts, intervalMs) {
      var attempts = 0;
      (function check() {
        attempts++;
        var es = window.embeddedservice_bootstrap;
        if (es && es.utilAPI) {
          console.log("utilAPI ready (initial)");
          showCustomCTA(es);
          return;
        }
        if (attempts >= maxAttempts) {
          console.warn("utilAPI not found after", attempts, "attempts");
          return;
        }
        setTimeout(check, intervalMs);
      })();
    }
    if (
      document.readyState === "complete" ||
      document.readyState === "interactive"
    ) {
      waitForES(50, 200);
    } else {
      window.addEventListener("DOMContentLoaded", function () {
        waitForES(50, 200);
      });
    }
  })();
</script>
<script
  type="text/javascript"
  src="https://leapmotor--dev01.sandbox.my.site.com/ESWLPMLeapmotor1760706603231/assets/js/bootstrap.min.js"
  onload="initEmbeddedMessaging()"
></script>
	
</body>

</html>








